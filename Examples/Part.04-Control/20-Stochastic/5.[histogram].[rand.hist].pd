#N canvas 347 94 877 520 12;
#X declare -path else;
#X floatatom 115 225 3 0 0 0 - - - 0;
#X obj 115 305 mtof;
#X obj 115 275 display;
#X obj 115 354 osc~;
#X obj 161 354 decay2~ 50 500;
#X obj 161 332 bng 15 250 50 0 empty empty empty 17 7 0 10 #dcdcdc
#000000 #000000;
#X obj 143 385 *~;
#X obj 143 426 out~;
#X obj 691 26 declare -path else;
#X obj 115 249 sequencer 60 64 69 71 76;
#X obj 115 199 + 1;
#X obj 542 130 keyboard 17 80 2 3 0 0 empty empty;
#X obj 542 235 histogram \$0-hist;
#A saved;
#X obj 115 172 rand.hist 4 1 3 2 1;
#X text 23 10 The [rand.hist] object can be initialized with a histogram
and a bang outputs an index according to its probability. It's much
like having a histogram array and [array random]. In the example below
\, [rand.hist] generates values from 0 to 4 and the occurrence is:
0 (4 times) \, 1 (once) \, 2 (3 times) \, 3 (2 times) and 4 (once).
We use the output to read from a [sequencer] object., f 61;
#X obj 115 142 tempo 160 50 -on;
#X text 144 225 <-- element number;
#X text 496 66 The [histogram] object can be used to generate histograms
and it can export arrays that feed [rand.hist]., f 46;
#X obj 685 285 rand.hist -u;
#X msg 475 187 export;
#X obj 685 317 mtof;
#X obj 685 366 osc~;
#X obj 731 366 decay2~ 50 500;
#X obj 731 344 bng 15 250 50 0 empty empty empty 17 7 0 10 #dcdcdc
#000000 #000000;
#X obj 713 397 *~;
#X obj 713 438 out~;
#X obj 766 314 bng 15 250 50 0 empty empty empty 17 7 0 10 #dfdfdf
#000000 #000000;
#X obj 685 232 bng 30 250 50 0 empty empty empty 17 7 0 10 #dfdfdf
#000000 #000000;
#X text 319 300 Feed [histogram] on the example to the right to generate
an array then hit 'export' to send it to [rand.hist]. Note that [rand.hist]
has the '-u' flag here. In this "unrepeat" mode \, a whole sequence
is generated according to the weight \, without repetition. for example
"2 1" would generate a sequence where the 1st element is output twice
and the 2nd once. After the sequence is finished \, a bang is output
on the right outlet. Check the help file for more details., f 47;
#X connect 0 0 9 0;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 4 0 6 1;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 9 0 2 0;
#X connect 10 0 0 0;
#X connect 11 0 12 0;
#X connect 12 1 18 0;
#X connect 13 0 10 0;
#X connect 15 0 13 0;
#X connect 18 0 20 0;
#X connect 18 1 26 0;
#X connect 19 0 12 0;
#X connect 20 0 21 0;
#X connect 20 0 23 0;
#X connect 21 0 24 0;
#X connect 22 0 24 1;
#X connect 23 0 22 0;
#X connect 24 0 25 0;
#X connect 27 0 18 0;
